name: sample
on:
  workflow_dispatch:
    inputs:
      issue-repository:
        description: 'issue repository'
        required: false
        default: "jc-lab/shim-review-bot"
      issue-number:
        description: 'issue number'
        required: false
        default: '1'
      source:
        description: "source git repository"
        required: true
        default: "https://github.com/jc-lab/shim-review-bot/tree/master/sample-repo"
      build-script:
        description: 'build script'
        required: false
      output-file:
        description: 'generated by build-script output file path'
        required: false
      vendor-cert:
        description: 'vendor cert file'
        required: true
        default: 'vendor_cert.der'
      sbat:
        description: 'sbat.csv file'
        required: true
        default: 'sbat.csv'
      report-output:
        description: 'review file output path'
        required: false
        default: '/tmp/report.md'
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: jc-lab/shim-review-bot@v0.0.6-rc4
        with:
          issue-repository: ${{ inputs.issue-repository }}
          issue-number: ${{ inputs.issue-number }}
          source: ${{ inputs.source }}
          build-script: ${{ inputs.build-script }}
          output-file: ${{ inputs.output-file }}
          vendor-cert: ${{ inputs.vendor-cert }}
          sbat: ${{ inputs.sbat }}
          report-output: ${{ inputs.report-output }}
